<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Winshuttle - Logging</title>
        <link href="assets/css/kendo.common.min.css" rel="stylesheet">
        <link href="assets/css/kendo.default.min.css" rel="stylesheet">
        <link href="assets/css/kendo.dataviz.min.css" rel="stylesheet">
        <link href="assets/css/kendo.dataviz.default.min.css" rel="stylesheet">
        <link href="assets/css/winshuttle.css" rel="stylesheet">
        <link href="assets/css/ws-formitems.css" rel="stylesheet">
    </head>
    <body>
        <div id="workflow-header">
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span6">
                        <div class="workflow-brand">
                            <img src="assets/img/ws-logo-workflow.png" alt="Winshuttle">
                            <div class="home-dropdown">
                                <div class="btn-group">
                                    <a class="btn btn-action dropdown-toggle" data-toggle="dropdown" href="#"></a>
                                    <ul class="dropdown-menu">
                                        <div>
                                            <li class="dropdown-title">Logs &amp; Reporting</li>
                                            <li><a href="#">Charts</a></li>
                                            <li><a href="#">Excel Data Dump</a></li>
                                            <li><a href="#">Logging</a></li>
                                            <li><a href="#">Log File Viewer</a></li>
                                            <li class="dropdown-title">Processes</li>
                                            <li><a href="#">Process Control</a></li>
                                            <li><a href="#">Manage Background Jobs</a></li>
                                        </div>
                                        <div>
                                            <li class="dropdown-title">Server Administration</li>
                                            <li><a href="#">Admin Commands</a></li>
                                            <li><a href="#">Configure Options</a></li>
                                            <li><a href="#">Scheduler</a></li>
                                            <li><a href="#">Workflow Extensions</a></li>
                                            <li><a href="#">Database Status</a></li>
                                            <li><a href="#">Licenses</a></li>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="span6">
                        <ul class="inline-list pull-right">
                            <!--
                            <li>
                                <a class="font-white" href="javascript:;">&#9664; Winshuttle Central</a>
                            </li>
                            -->
                            <li>
                                <select class="input-medium"  id="select-webapp">
                                    <option>Sharepoint - 80</option>
                                </select>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div id="mainsi">
            <!--
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                START HERE START HERE START HERE START HERE START HERE
                                                                      -->
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span12">
                        <ul id="breadcrumbs">
                            <li><a href="#">Administration</a> &rsaquo;</li>
                            <li><a href="#">Logs &amp; Reporting</a></li>
                            <li class="related-links">
                                <ul>
                                    <li class="related-label">Related:</li>
                                    <li class="link"><a href="#">Log File Viewer</a></li>
                                    <li class="link"><a href="#">Indent Logs</a></li>
                                    <li class="link"><a href="#">Documentation</a></li>
                                </ul>
                            </li>
                        </ul>
                        <ul id="secnav">
                            <li class="active">
                                <h1>Logging</h1>
                                <div class="row-fluid">
                                    <div class="span8 page-description">Page description goes here.  If no page description exists, delete this paragraph.  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="span8">
                        <div class="settings-info">
                            <form class="form-horizontal">
                                <fieldset>
                                    <div class="control-group">
                                        <label class="control-label">Logging Type</label>
                                        <div class="controls">
                                            <ul class="checkbox-group">
                                                <li>
                                                    <label>
                                                    <input type="checkbox" id="check-core" value="false">
                                                    <span>
                                                    CORE -- Logs the internals of Winshuttle Workflow running under SharePoint
                                                    </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                    <input id="check-svservice" type="checkbox" checked="checked" value="true">
                                                    <span>
                                                    SYSERVICE -- Logs the running of SVService
                                                    </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                    <input id="check-timer" type="checkbox" value="false">
                                                    <span>
                                                    TIMER -- Writes timer information as Winshuttle Workflow runs
                                                    </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                    <input id="check-CA" type="checkbox" value="false">
                                                    <span>
                                                    CENTRAL ADMIN -- Logs this website
                                                    </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                    <input id="check-SVADM" type="checkbox" value="false">
                                                    <span>
                                                    SVADM -- Does other things
                                                    </span>
                                                    </label>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label class="control-label">Logging Level</label>
                                        <div class="controls">
                                            <select id="select-level" class="input-onethird" value="false">
                                                <option value="Debug">
                                                    Debug
                                                </option>
                                                <option value="Info">
                                                    Info
                                                </option>
                                                <option value="Warn">
                                                    Warn
                                                </option>
                                                <option value="Error">
                                                    Error
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="control-group">
                                        <label class="control-label">Log Retention</label>
                                        <div class="controls">
                                            <ul class="checkbox-group inline-list">
                                                <li>
                                                    <label>
                                                    <input id="radio-append" type="radio" name="TEMPNAME-logretention" checked="checked" value="true">
                                                    <span>
                                                    Append to Prior Logs
                                                    </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                    <input id="radio-clear" type="radio" name="TEMPNAME-logretention" value="false">
                                                    <span>
                                                    Clear Prior Logs
                                                    </span>
                                                    </label>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!--
                                    <div class="control-group">
                                        <label class="control-label">Logging Scope</label>
                                        <div class="controls">
                                            <ul class="checkbox-group inline-list">
                                                <li>
                                                    <label>
                                                        <input id="radio-currentFrontEnd" type="radio" name="TEMPNAME-loggingscope" checked="checked" value="true">
                                                        <span>
                                                            Current Front-End
                                                        </span>
                                                    </label>
                                                </li>
                                                <li>
                                                    <label>
                                                        <input id="radio-allFrontEnd" type="radio" name="TEMPNAME-loggingscope" value="false">
                                                        <span>
                                                            All Front-Ends
                                                        </span>
                                                    </label>
                                                </li>
                                            </ul>
                                        </div>
                                        </div>
                                        -->
                                    <div id="js-label-moreoptions" class="fewer-options">
                                        <a class="js-container-moreoptions-trigger" href="javascript:void(0)">More Options</a>
                                        <div id="js-container-moreoptions" class="js-initial-hide">
                                            <div class="control-group bump-down-20">
                                                <label class="control-label">Additional Options</label>
                                                <div class="controls">
                                                    <ul class="checkbox-group">
                                                        <li>
                                                            <label>
                                                            <input id="check-stackTrace" type="checkbox" value="false"/>
                                                            <span>
                                                            Include Stack Trace For Each Logging Statement
                                                            </span>
                                                            </label>
                                                            <div class="help-block">
                                                                This option will slow down the system considerably, and should only be used when necessary.
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <label>
                                                            <input id="check-asyncLogging" type="checkbox" value="false"/>
                                                            <span>
                                                            Asynchronous Logging
                                                            </span>
                                                            </label>
                                                            <div class="help-block">
                                                                Causes the system to write a separate thread for execution.  This can make your system more responsive when logging is on, but writing to the log might cause the system to lag slightly.
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <label class="control-label">Include only specific classes</label>
                                                <div class="controls form-textandbutton">
                                                    <input id="input-Classes" type="text" class="form-control input-block-level" placeholder="">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/fewer-options-->
                                    <div class="form-actions">
                                        <button id="btn-add" type="submit" class="btn btn-primary"><span>Save</span></button>
                                        <button class="btn"><span>Cancel</span></button>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                    <!-- /div .span8 -->
                </div>
                <!-- /div .row-fluid -->
            </div>
            <!-- /div .container-fluid -->
        </div>
        <!-- /div #mainsi -->
        <div id="footer" class="row-fluid">
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span8">
                        <div id="footer-links">
                            <ul>
                                <li><a href="#">Help</a></li>
                                <li><a href="#">About</a></li>
                                <li><a href="#">Terms</a></li>
                                <li><a href="#">Privacy Policy</a></li>
                            </ul>
                            <ul>
                                <li>&copy; 2008-2011 Winshuttle, LLC</li>
                                <li>Version 10.4</li>
                                <li>Privacy Mode: Secure</li>
                            </ul>
                        </div>
                    </div>
                    <div class="span4">
                        <ul class="security-logo">
                            <li><img src="assets/img/security-te.png" alt="TRUSTe"/></li>
                            <li><img src="assets/img/security-sh.png" alt="Safe Harbor"/></li>
                            <li><img src="assets/img/security-soc.png" alt="SSAE 16 / ISAE 3402 Type II SOC 1"/></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script>
            if (!window.jQuery) {
                console.error("jQuery CDN is down.")
                document.write('<script src="assets/js/jquery.min.js"><\/script>');
            }
        </script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script>
            if (!$.fn.modal) {
                console.error("Bootstrap CDN is down.")
                document.write('<script src="assets/js/bootstrap.min.js"><\/script>');
            }
        </script>
        <script src="assets/js/kendo.all.min.js"></script>
        <script src="assets/js/wslib_master.js"></script>
        <script src="assets/js/wsplugin_master.js"></script>
        <script src="assets/js/ws_global_initialization_administration.js"></script>
        <script src="assets/js/ws_common.js"></script>
        <script>
            $(document).ready(function () {
                ws_initializeWebApp('/admin/GetAllWebApp', $('#select-webapp'), function () {
                    var webappUrl = $('#select-webapp').val();
                    ws_ajaxCall('/logging/GetData', { server: webappUrl }, function (data, successData) {
                        $("#check-core").prop('checked', data[0].Core);
                        $("#check-svservice").prop('checked', data[0].SVService);
                        $("#check-timer").prop('checked', data[0].Timer);
                        $("#check-CA").prop('checked', data[0].CA);
                        $("#check-SVADM").prop('checked', data[0].SVAdm);
                        if (data[0].LogRetention) {
                            $("#radio-append").prop('checked', true);
                            $("#radio-clear").prop('checked', false);
                        }
                        else {
                            $("#radio-clear").prop('checked', true);
                            $("#radio-append").prop('checked', false);
                        }
                       // $("#radio-currentFrontEnd").prop('checked', data[0].LoggingScope);
                        $("#check-stackTrace").prop('checked', data[0].StackTrace);
                        $("#check-asyncLogging").prop('checked', data[0].AsyncLogging);
                        $("#input-Classes").val(data[0].LoggingClasses);
                        $("#select-level").val(data[0].LoggingLevel);
                    }, null, null);
                });
            });
            
            $("#btn-add").click(function () {
                var webappUrl = $("#select-webapp").val();
                var isCore = $("#check-core").prop('checked');
                var isTimer = $("#check-timer").prop('checked');
                var isSVService = $("#check-svservice").prop('checked');
                var isCA = $("#check-CA").prop('checked');
                var isSVAdm = $("#check-SVADM").prop('checked');
                var loggingLevel = $("#select-level").val();
                var logRetention = $("#radio-append").prop('checked');
              //  var loggingScope = $("#radio-currentFrontEnd").prop('checked');
                var stackTrace = $("#check-stackTrace").prop('checked');
                var asyncLogging = $("#check-asyncLogging").prop('checked');
                var loggingClasses = $("#input-Classes").val();
                var data = { webappUrl: webappUrl, isCore: isCore, isTimer: isTimer, isSVService: isSVService, isSVAdm: isSVAdm, isCA: isCA,
                    loggingLevel: loggingLevel, logRetention: logRetention, stackTrace: stackTrace,
                    asyncLogging: asyncLogging, loggingClasses: loggingClasses
                };
                ws_ajaxCall('/logging/Add', data, function (successData) {
                }, null, null);
                return false;
            });
        </script>
    </body>
</html>
